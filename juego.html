<!DOCTYPE html>
<html>
	<head>
		<title>CocteleriApp</title>
		<link href="css/estilos.css" rel="stylesheet" type="text/css">
		<meta charset="utf-8" name="viewport" content="width=device-width, user-scalable=no">
		<script type="text/javascript" src="js/menus.js"></script>
		<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
		<script type="text/javascript">
			$(window).load(function()
			{
				$("#loader").fadeOut("slow");
			})
		</script>
		<script type="text/javascript" src="https://cdn.rawgit.com/alexgibson/shake.js/master/shake.js"></script>
	</head>
	<body onload="cargarIngredientes()">
		<img src="img/glass.png" id="loader">
		<div id="modal">
			<div class="modal-content">
				<p><b>Â¡FELICIDADES!</b></p><br>
				<button class="close" onclick="volver()">Volver</button>
			</div>
		</div>
		<div id="estanteria"></div>
		<div id="mesa">
			<img src="img/boston.png" id="recipiente"">
		</div>
		<footer>
			<a href='receta.html' class='volver'><img src='img/return.png'></a>
		</footer>

		<script type="text/javascript">
			var ingredientesSinAnadir;

			var shakeEvent = new Shake({threshold: 15});
			shakeEvent.start();
			window.addEventListener('shake', function()
			{
				if(ingredientesSinAnadir == 0)
				{
					//alert("Shaked");
					setTimeout(terminar, 3000);
				}
			}, false);
			function stopShake()
			{
				shakeEvent.stop();
			}

			function cargarIngredientes()
			{
				coctel = contarIngredientes();
				switch(coctel)
				{
					case "margarita":
						ingre = "<img src='img/ing/tequila.png' class='ingrediente' ontouchstart='anadir(this)'>"+
						"<img src='img/ing/cointreau.png' class='ingrediente' ontouchstart='anadir(this)'>"+
						"<img src='img/ing/jugoLima.png' class='ingrediente' ontouchstart='anadir(this)'>"+
						"<img src='img/ing/jarabeAgave.png' class='ingrediente' ontouchstart='anadir(this)'>";
					break;

					case "paloma":
						ingre = "<img src='img/ing/tequila.png' class='ingrediente' ontouchstart='anadir(this)'>"+
						"<img src='img/ing/jugoToronja.png' class='ingrediente' ontouchstart='anadir(this)'>"+
						"<img src='img/ing/azucar.png' class='ingrediente' ontouchstart='anadir(this)'>"+
						"<img src='img/ing/limon.png' class='ingrediente' ontouchstart='anadir(this)'>"+
						"<img src='img/ing/aguaMineral.png' class='ingrediente' ontouchstart='anadir(this)'>";
					break;

					case "sunrise":
						ingre = "<img src='img/ing/tequila.png' class='ingrediente' ontouchstart='anadir(this)'>"+
						"<img src='img/ing/jugoNaranja.png' class='ingrediente' ontouchstart='anadir(this)'>"+
						"<img src='img/ing/granadina.png' class='ingrediente' ontouchstart='anadir(this)'>";
					break;

					case "bloodyMary":
						ingre = "<img src='img/ing/vodka.png' class='ingrediente' ontouchstart='anadir(this)'>"+
						"<img src='img/ing/salsaWorcestershire.png' class='ingrediente' ontouchstart='anadir(this)'>"+
						"<img src='img/ing/jugoJitomate.png' class='ingrediente' ontouchstart='anadir(this)'>"+
						"<img src='img/ing/salsaTabasco.png' class='ingrediente' ontouchstart='anadir(this)'>"+
						"<img src='img/ing/sal.png' class='ingrediente' ontouchstart='anadir(this)'>"+
						"<img src='img/ing/jugoLimon.png' class='ingrediente' ontouchstart='anadir(this)'>";
					break;

					case "cosmopolitan":
						ingre = "<img src='img/ing/vodka.png' class='ingrediente' ontouchstart='anadir(this)'>"+
						"<img src='img/ing/cointreau.png' class='ingrediente' ontouchstart='anadir(this)'>"+
						"<img src='img/ing/jugoLima.png' class='ingrediente' ontouchstart='anadir(this)'>"+
						"<img src='img/ing/arandanosAzules.png' class='ingrediente' ontouchstart='anadir(this)'>"+
						"<img src='img/ing/jarabeAzucar.png' class='ingrediente' ontouchstart='anadir(this)'>"+
						"<img src='img/ing/jugoArandano.png' class='ingrediente' ontouchstart='anadir(this)'>";
					break;

					case "expressoMartini":
						ingre = "<img src='img/ing/vodka.png' class='ingrediente' ontouchstart='anadir(this)'>"+
						"<img src='img/ing/cafe.png' class='ingrediente' ontouchstart='anadir(this)'>"+
						"<img src='img/ing/jarabeAzucar.png' class='ingrediente' ontouchstart='anadir(this)'>";
					break;

					case "whiskeySour":
						ingre = "<img src='img/ing/whisky.png' class='ingrediente' ontouchstart='anadir(this)'>"+
						"<img src='img/ing/jugoLimon.png' class='ingrediente' ontouchstart='anadir(this)'>"+
						"<img src='img/ing/jarabeAzucar.png' class='ingrediente' ontouchstart='anadir(this)'>"+
						"<img src='img/ing/angosturaBitter.png' class='ingrediente' ontouchstart='anadir(this)'>"+
						"<img src='img/ing/huevo.png' class='ingrediente' ontouchstart='anadir(this)'>";
					break;

					case "rustyNail":
						ingre = "<img src='img/ing/whisky.png' class='ingrediente' ontouchstart='anadir(this)'>"+
						"<img src='img/ing/drambuie.png' class='ingrediente' ontouchstart='anadir(this)'>"+
						"<img src='img/ing/hielo.png' class='ingrediente' ontouchstart='anadir(this)'>";
					break;

					case "cafeIrlandes":
						ingre = "<img src='img/ing/whisky.png' class='ingrediente' ontouchstart='anadir(this)'>"+
						"<img src='img/ing/cafe.png' class='ingrediente' ontouchstart='anadir(this)'>"+
						"<img src='img/ing/crema.png' class='ingrediente' ontouchstart='anadir(this)'>"+
						"<img src='img/ing/azucarMorena.png' class='ingrediente' ontouchstart='anadir(this)'>";
					break;

					case "daiquiri":
						ingre = "<img src='img/ing/ronBlanco.png' class='ingrediente' ontouchstart='anadir(this)'>"+
						"<img src='img/ing/jugoLima.png' class='ingrediente' ontouchstart='anadir(this)'>"+
						"<img src='img/ing/azucar.png' class='ingrediente' ontouchstart='anadir(this)'>";
					break;

					case "maiTai":
						ingre = "<img src='img/ing/ronBlanco.png' class='ingrediente' ontouchstart='anadir(this)'>"+
						"<img src='img/ing/ronOscuro.png' class='ingrediente' ontouchstart='anadir(this)'>"+
						"<img src='img/ing/tripleSeco.png' class='ingrediente' ontouchstart='anadir(this)'>"+
						"<img src='img/ing/jugoLima.png' class='ingrediente' ontouchstart='anadir(this)'>"+
						"<img src='img/ing/jarabeAlmendra.png' class='ingrediente' ontouchstart='anadir(this)'>"+
						"<img src='img/ing/jarabeAzucar.png' class='ingrediente' ontouchstart='anadir(this)'>";
					break;

					case "pinaColada":
						ingre = "<img src='img/ing/ronBlanco.png' class='ingrediente' ontouchstart='anadir(this)'>"+
						"<img src='img/ing/ronOscuro.png' class='ingrediente' ontouchstart='anadir(this)'>"+
						"<img src='img/ing/jugoPina.png' class='ingrediente' ontouchstart='anadir(this)'>"+
						"<img src='img/ing/cremaCoco.png' class='ingrediente' ontouchstart='anadir(this)'>";
					break;

					case "aviation":
						ingre = "<img src='img/ing/ginebra.png' class='ingrediente' ontouchstart='anadir(this)'>"+
						"<img src='img/ing/jugoLimon.png' class='ingrediente' ontouchstart='anadir(this)'>"+
						"<img src='img/ing/licorMarrasquino.png' class='ingrediente' ontouchstart='anadir(this)'>"+
						"<img src='img/ing/violetas.png' class='ingrediente' ontouchstart='anadir(this)'>";
					break;

					case "bramble":
						ingre = "<img src='img/ing/ginebra.png' class='ingrediente' ontouchstart='anadir(this)'>"+
						"<img src='img/ing/jugoLimon.png' class='ingrediente' ontouchstart='anadir(this)'>"+
						"<img src='img/ing/jarabeAzucar.png' class='ingrediente' ontouchstart='anadir(this)'>"+
						"<img src='img/ing/licorMora.png' class='ingrediente' ontouchstart='anadir(this)'>";
					break;

					case "gimlet":
						ingre = "<img src='img/ing/ginebra.png' class='ingrediente' ontouchstart='anadir(this)'>"+
						"<img src='img/ing/cordialLima.png' class='ingrediente' ontouchstart='anadir(this)'>"+
						"<img src='img/ing/limon.png' class='ingrediente' ontouchstart='anadir(this)'>";
					break;

					case "blackVelvet":
						ingre = "<img src='img/ing/cerveza.png' class='ingrediente' ontouchstart='anadir(this)'>"+
						"<img src='img/ing/champagne.png' class='ingrediente' ontouchstart='anadir(this)'>";
					break;

					case "michelada":
						ingre = "<img src='img/ing/cerveza.png' class='ingrediente' ontouchstart='anadir(this)'>"+
						"<img src='img/ing/sal.png' class='ingrediente' ontouchstart='anadir(this)'>"+
						"<img src='img/ing/pimienta.png' class='ingrediente' ontouchstart='anadir(this)'>"+
						"<img src='img/ing/salsaInglesa.png' class='ingrediente' ontouchstart='anadir(this)'>"+
						"<img src='img/ing/salsaMaggi.png' class='ingrediente' ontouchstart='anadir(this)'>"+
						"<img src='img/ing/salsaTabasco.png' class='ingrediente' ontouchstart='anadir(this)'>";
					break;
				}
				document.getElementById('estanteria').innerHTML = ingre;
			}

			function contarIngredientes()
			{
				coctel = sessionStorage.getItem("Coctel");
				// Ingredientes: 2
				if(coctel == "blackVelvet")
				{
					ingredientesSinAnadir = 2;
				}
				// Ingredientes: 3
				if(coctel == "sunrise" || coctel == "expressoMartini" || coctel == "rustyNail" || coctel == "daiquiri" || coctel == "gimlet")
				{
					ingredientesSinAnadir = 3;
				}
				// Ingredientes: 4
				if(coctel == "margarita" || coctel == "cafeIrlandes" || coctel == "pinaColada" || coctel == "aviation" || coctel == "bramble")
				{
					ingredientesSinAnadir = 4;
				}
				// Ingredientes: 5
				if(coctel == "paloma" || coctel == "whiskeySour")
				{
					ingredientesSinAnadir = 5;
				}
				// Ingredientes: 6
				if(coctel == "bloodyMary" || coctel == "cosmopolitan" || coctel == "maiTai" || coctel == "michelada")
				{
					ingredientesSinAnadir = 6;
				}
				return coctel;
			}

			function anadir(ingrediente)
			{
				if(ingrediente.style.display != "none")
				{
					ingrediente.style.display = "none";
					ingredientesSinAnadir = ingredientesSinAnadir - 1;
					if(ingredientesSinAnadir == 0)
					{
						mesa = document.getElementById('mesa');
						recipiente = document.getElementById('recipiente');
						mesa.style.height = "90%";
						recipiente.style.height = "70%";
						recipiente.style.marginTop = "25%";
					}
				}
			}

			function terminar()
			{
				stopShake();
				myCoctel = sessionStorage.getItem('Coctel');
				myCoctel = "img/coc/"+myCoctel+".png";
				myContainer = document.getElementById('recipiente');
				myContainer.style.animation = "fadeOut 2s";
				myContainer.src = myCoctel;
				myContainer.style.animation = "fadeIn 2s";
				setTimeout(felicitar, 3000);
			}

			function felicitar()
			{
				modal = document.getElementById('modal');
				modal.style.display = "block";
			}

			function volver()
			{
				modal.style.display = "none";
				location.href = "bebidas.html";
			}
		</script>

	</body>
</html>